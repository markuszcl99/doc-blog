# ç­–ç•¥æ¨¡å¼-Strategy Pattern

> è‹¦é€¼çš„MarkusZhangç°åœ¨è¿˜åœ¨é«˜ä¸­è¯»ä¹¦ï¼Œæ€»æ˜¯è¦é¢å¯¹è€ƒè¯•ğŸ˜­ ä¸ºäº†åº”å¯¹è€ƒè¯•ï¼Œä»–æƒ³å‡ºäº†å‡ ç§æ–¹æ³•
>
> - æ‰“å°æŠ„
> - å·çœ‹æ—è¾¹åŒå­¦è¯•å·
> - å¥½å¥½å¤ä¹ 
> - ...

æ­¤ç§åœºæ™¯æˆ‘ä»¬é€šè¿‡Javaç¨‹åºå¦‚ä½•å®ç°å‘¢ï¼Ÿæˆ‘ä»¬å¾ˆå®¹æ˜“æƒ³åˆ°çš„ä¸€ç§æ–¹å¼ï¼Œif elseè¯­å¥æ¥å®ç°ï¼Œæˆ‘ä»¬çš„ä»£ç å¯èƒ½æ˜¯ä¸‹é¢è¿™æ ·ï¼š

```java
public class Strategy {
    public void operate(String[] args) {
        if (æ‰“å°æŠ„){
            æ‰“å°æŠ„çš„æ–¹å¼
        }else if (å·çœ‹){
            å·çœ‹çš„æ–¹å¼
        }else if (å¤ä¹ ){
            å¥½å¥½å¤ä¹ 
        }else if (...){
            å…¶ä»–æ–¹å¼
        }
    }
}
```

æˆ‘ä»¬æ€è€ƒä¸‹ï¼Œå¦‚æœé‡‡ç”¨äº†ä¸Šè¿°æ–¹å¼ä¼šæœ‰ä»€ä¹ˆå½±å“ï¼Ÿå½“åº”å¯¹è€ƒè¯•çš„æ–¹å¼è¶Šæ¥è¶Šå¤šæ—¶ï¼Œæˆ‘ä»¬éœ€è¦ä¸æ–­çš„ä¿®æ”¹è¿™ä¸ªç­–ç•¥ç±»ï¼Œä¼šå¢åŠ æˆ‘ä»¬çš„ä¿®æ”¹å’Œç»´æŠ¤æˆæœ¬ã€‚é‚£æˆ‘ä»¬å¦‚ä½•æ¥å®ç°å‘¢ï¼Ÿè®¾è®¡æ¨¡å¼ä¸­çš„`ç­–ç•¥æ¨¡å¼`å°±å¸®åŠ©æˆ‘ä»¬è§£å†³äº†è¿™æ ·çš„åœºæ™¯ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹ç±»å›¾ï¼š

![image-20220708234345673](../img/image-20220708234345673.png)

æˆ‘ä»¬å†æ¥çœ‹ä¸‹ä»£ç ï¼š

- ç­–ç•¥ç›¸å…³æ¥å£ä¸å®ç°ç±»

```java
package com.markus.designpattern.strategy;

/**
 * @author: markus
 * @date: 2022/7/8 10:25 ä¸‹åˆ
 * @Description: å¸Œæœ›è€ƒè¯•ä¸æŒ‚ç§‘çš„ç­–ç•¥æ¥å£
 * @Blog: http://markuszhang.com/doc-blog
 * It's my honor to share what I've learned with you!
 */
public interface IStrategy {
    public void operate();
}

```

```java
package com.markus.designpattern.strategy;

/**
 * @author: markus
 * @date: 2022/7/8 10:31 ä¸‹åˆ
 * @Description: æ‰“å°æŠ„
 * @Blog: http://markuszhang.com/doc-blog/
 * It's my honor to share what I've learned with you!
 */
public class CheatSheet implements IStrategy {
    @Override
    public void operate() {
        System.out.println("æ‰“å°æŠ„");
    }
}

package com.markus.designpattern.strategy;

/**
 * @author: markus
 * @date: 2022/7/8 10:36 ä¸‹åˆ
 * @Description: å·çœ‹åŒå­¦è¯•å·
 * @Blog: http://markuszhang.com/doc-blog/
 * It's my honor to share what I've learned with you!
 */
public class Peep implements IStrategy{
    @Override
    public void operate() {
        System.out.println("å·çœ‹åŒå­¦è¯•å·ï¼");
    }
}

package com.markus.designpattern.strategy;

/**
 * @author: markus
 * @date: 2022/7/8 10:34 ä¸‹åˆ
 * @Description: è€ƒå‰å¤ä¹ 
 * @Blog: http://markuszhang.com/doc-blog/
 * It's my honor to share what I've learned with you!
 */
public class Review implements IStrategy{
    @Override
    public void operate() {
        System.out.println("è€ƒå‰å¥½å¥½å¤ä¹ ï¼Œè€ƒè¯•ä¸æŒ‚ç§‘ï¼");
    }
}
```

- ç­–ç•¥çš„åº”ç”¨åœºæ™¯

```java
package com.markus.designpattern.strategy;

/**
 * @author: markus
 * @date: 2022/7/8 10:38 ä¸‹åˆ
 * @Description: è€ƒè¯•
 * @Blog: http://markuszhang.com/doc-blog/
 * It's my honor to share what I've learned with you!
 */
public class Exam {
    private IStrategy iStrategy;

    public Exam(IStrategy iStrategy){
        this.iStrategy = iStrategy;
    }

    public void exam(){
        iStrategy.operate();
    }
}
```

- ç­–ç•¥çš„è°ƒç”¨è€…

```java
package com.markus.designpattern.strategy;

/**
 * @author: markus
 * @date: 2022/7/8 10:27 ä¸‹åˆ
 * @Description: è‹¦é€¼è€ƒè¯•äºº
 * @Blog: http://markuszhang.com/doc-blog/
 * It's my honor to share what I've learned with you!
 */
public class MarkusZhang {
    public static void main(String[] args) {
        IStrategy monthExamStrategy = new CheatSheet();//å¿«è¦è€ƒè¯•äº†ï¼Œæˆ‘å‡†å¤‡æ‰“å°æŠ„
        Exam exam = new Exam(monthExamStrategy);//æœˆè€ƒ
        exam.exam();//è€ƒè¯•äº†ï¼Œåˆ«è¢«é€®ç€

        IStrategy midtermStrategy = new Peep();//å¿«è¦æœŸä¸­è€ƒè¯•äº†ï¼Œæˆ‘å‡†å¤‡å·çœ‹åŒå­¦è¯•å·é€šè¿‡è€ƒè¯•
        Exam midtermExam = new Exam(midtermStrategy);
        midtermExam.exam();

        IStrategy finalStrategy = new Review();//ä¸Šæ¬¡è¢«é€®ç€äº†ï¼Œè¢«è®°äº†å¤§è¿‡ï¼Œè¿™æ¬¡è¦å¥½å¥½å¤ä¹ äº†
        Exam finalExam = new Exam(finalStrategy);
        finalExam.exam();
    }
}
```

è¿™æ ·ä¸€ä¸ªå®Œæ•´çš„ç­–ç•¥æ¨¡å¼å°±å‘ˆç°å‡ºæ¥äº†ï¼Œå®Œå…¨ä½“ç°äº†é«˜å†…èšä½è€¦åˆçš„ç‰¹ç‚¹ã€‚ç¬¦åˆOCPï¼Œå³å¼€æ”¾å°é—­åŸåˆ™ã€‚æ–°å¢ç­–ç•¥åªéœ€è¦å®ç°ç­–ç•¥æ¥å£å³å¯å®Œæˆæ‰©å±•ï¼Œä¸ä¿®æ”¹åŸæœ‰ç›¸å…³çš„ç­–ç•¥ç±»ï¼Œåªéœ€è¦åœ¨è°ƒç”¨è€…å¤„åšå‡ºä¸€äº›ä¿®æ”¹å®Œå–„ç­–ç•¥åº”ç”¨åœºæ™¯å³å¯ï¼